<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Apache ECharts Custom Series Test</title>
</head>

<body>
    <div id="main" style="width: 1000px;height:400px;border:1px solid #ccc"></div>

    <button onclick="addData()">Add</button>
    <button onclick="minusData()">Minus</button>
    <script src="../node_modules/echarts/dist/echarts.js"></script>
    <script src="../dist/index.js"></script>
    <script>
        echarts.use(window.segmentedDoughnutCustomSeriesInstaller);
        const chart = echarts.init(document.getElementById('main'));

        option = {
            series: [{
                type: 'custom',
                renderItem: 'segmentedDoughnut',
                coordinateSystem: 'none',
                name: 'A',
                itemPayload: {
                    center: ['25%', '50%'],
                    radius: ['50%', '65%'],
                    segmentCount: 8,
                    label: {
                        show: true,
                        formatter: '{c}/{b}',
                        fontSize: 35,
                        color: '#555'
                    }
                },
                data: [5],
                itemStyle: {
                    // To override the default style
                },
                emphasis: {
                    itemStyle: {
                        shadowBlur: 10,
                        shadowColor: 'rgba(0, 0, 0, 0.2)'
                    }
                }
            }, {
                type: 'custom',
                renderItem: 'segmentedDoughnut',
                coordinateSystem: 'none',
                name: 'B',
                itemPayload: {
                    center: ['75%', '50%'],
                    radius: ['50%', '65%'],
                    segmentCount: 6,
                    label: {
                        show: true,
                        formatter: '{d} ðŸŽ‰',
                        fontSize: 35,
                        color: '#555'
                    }
                },
                data: [6],
                emphasis: {
                    itemStyle: {
                        shadowBlur: 10,
                        shadowColor: 'rgba(0, 0, 0, 0.2)'
                    }
                }
            }]
        };

        chart.setOption(option);

        function addData() {
            option.series[0].data[0] += 1;
            chart.setOption(option);
        };

        function minusData() {
            option.series[0].data[0] -= 1;
            chart.setOption(option);
        };
    </script>
</body>

</html>