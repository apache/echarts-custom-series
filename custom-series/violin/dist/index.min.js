!function(e){if("object"==typeof module&&"object"==typeof module.exports){var t=e(require,exports);void 0!==t&&(module.exports=t)}else"function"==typeof define&&define.amd&&define(["require","exports","tslib","echarts"],e)}((function(e,t){"use strict";function o(e){return Math.abs(e)<=1?.75*(1-e*e):0}Object.defineProperty(t,"__esModule",{value:!0});e("tslib").__importDefault(e("echarts")).default.registerCustomSeries("violin",(function(e,t){var l={};if(null==e.context.violins){e.context.violins=[],l=e.context.violins;for(var a=e.dataInsideLength,r=0;r<a;++r){var n=t.value(0,r);null==l[n]&&(l[n]={firstDataIndex:r,data:[]}),l[n].data.push(t.value(1,r))}}var i,u,s,c=e.itemPayload.symbolSize,d=t.value(0),f=t.value(1),p=t.coord([d,f]),v=e.itemPayload.bandWidthScale,h=(t.coord([1,0])[0]-t.coord([0,0])[0])*(null==v?1:v),y=l[d],m=null;if(y&&y.firstDataIndex===e.dataIndex){for(var g=(i=o,u=1,s=y.data,function(e){for(var t=0,o=0;o<s.length;o++)t+=i((e-s[o])/u);return t/(s.length*u)}),x=e.itemPayload.binCount||100,b=[],P=0;P<x;P++)b.push(P*(10/(x-1)));for(var I=b.map((function(e){return[e,g(e)]})),_=[],j=[],D=function(){if(j.length>1){for(var o=j.length-1;o>=0;--o)j.push([2*p[0]-j[o][0],j[o][1]]);var l=e.itemPayload.areaOpacity;_.push({type:"polygon",shape:{points:j.slice()},style:{fill:t.visual("color"),opacity:null==l?.5:l}})}j.length=0},S=0;S<I.length;++S){var q=t.coord([d,I[S][0]]);I[S][1]<.001?D():j.push([q[0]+h/2*I[S][1],q[1]])}D(),m={type:"group",children:_,silent:!0}}var C={type:"circle",shape:{cx:p[0],cy:p[1],r:null==c?5:c},style:{fill:t.visual("color")}};return m?{type:"group",children:[C,m]}:C}))}));