/*
* Licensed to the Apache Software Foundation (ASF) under one
* or more contributor license agreements.  See the NOTICE file
* distributed with this work for additional information
* regarding copyright ownership.  The ASF licenses this file
* to you under the Apache License, Version 2.0 (the
* "License"); you may not use this file except in compliance
* with the License.  You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing,
* software distributed under the License is distributed on an
* "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
* KIND, either express or implied.  See the License for the
* specific language governing permissions and limitations
* under the License.
*/
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).liquidFillCustomSeriesInstaller=e()}(this,(function(){"use strict";function t(t){var o,a,l,r,d,u,c,s=t.style,h=t.cx,f=t.cy,v=t.innerRadius,p=t.boundingLeft,y=t.boundingTop,g=t.boundingWidth,x=t.boundingHeight,m=t.wavePathData,b=t.waveInitialX,w=t.waveAnimation,I=t.defaultColor,P=t.insideColorOverride;if(s){var A=s,M=A.text;if(null!=M&&""!=="".concat(M)){var S=function(t,i,n,o,a,l,r,d){if(Array.isArray(t))return{x:e(t[0],r,i-a)+a,y:e(t[1],d,n-l)+l,align:"center",verticalAlign:"middle"};switch(t){case"inside":default:return{x:i,y:n,align:"center",verticalAlign:"middle"};case"left":case"insideLeft":return{x:i-.6*o,y:n,align:"left",verticalAlign:"middle"};case"right":case"insideRight":return{x:i+.6*o,y:n,align:"right",verticalAlign:"middle"};case"top":case"insideTop":return{x:i,y:n-.6*o,align:"center",verticalAlign:"top"};case"bottom":case"insideBottom":return{x:i,y:n+.6*o,align:"center",verticalAlign:"bottom"}}}(A.textPosition,h,f,v,p,y,g,x),C=function(t,e,n){var o,a={x:e,y:n};i(a,"fontSize",t.fontSize),i(a,"fontFamily",t.fontFamily),i(a,"fontWeight",t.fontWeight),i(a,"fontStyle",t.fontStyle),i(a,"lineHeight",t.lineHeight),i(a,"rich",t.rich),i(a,"backgroundColor",t.backgroundColor),i(a,"borderColor",t.borderColor),i(a,"borderWidth",t.borderWidth),i(a,"borderRadius",t.borderRadius),i(a,"padding",t.padding);var l=null!=t.textShadowBlur?t.textShadowBlur:t.shadowBlur,r=null!=t.textShadowColor?t.textShadowColor:t.shadowColor,d=null!=t.textShadowOffsetX?t.textShadowOffsetX:t.shadowOffsetX,u=null!=t.textShadowOffsetY?t.textShadowOffsetY:t.shadowOffsetY;i(a,"shadowBlur",l),i(a,"shadowColor",r),i(a,"shadowOffsetX",d),i(a,"shadowOffsetY",u);var c=null!=t.textStroke?t.textStroke:t.stroke,s=null!=t.textStrokeWidth?t.textStrokeWidth:null!==(o=t.lineWidth)&&void 0!==o?o:t.strokeWidth;return i(a,"stroke",c),i(a,"lineWidth",s),a}(A,S.x,S.y),k=null!==(a=null!==(o=A.textAlign)&&void 0!==o?o:A.align)&&void 0!==a?a:S.align,F=null!==(l=function(t){var e,i,n=null!==(e=t.textVerticalAlign)&&void 0!==e?e:t.verticalAlign;if("top"===n||"middle"===n||"bottom"===n)return n;if("center"===n)return"middle";var o=null!==(i=t.textBaseline)&&void 0!==i?i:t.baseline;if("top"===o)return"top";if("middle"===o||"center"===o)return"middle";if("bottom"===o||"baseline"===o)return"bottom";return}(A))&&void 0!==l?l:S.verticalAlign;C.align=k,C.textAlign=k,C.verticalAlign=F,C.textVerticalAlign=F,C.text=String(M);var O=null!==(d=null!==(r=A.textFill)&&void 0!==r?r:A.fill)&&void 0!==d?d:I,W=null!==(c=null!==(u=null!=P?P:A.textInsideColor)&&void 0!==u?u:A.insideColor)&&void 0!==c?c:O,L={type:"text",silent:!0,z2:40,style:Object.assign({},C,{fill:O})},B={type:"text",silent:!0,z2:41,style:Object.assign({},C,{fill:W})},z={type:"path",shape:{pathData:m},x:b,clipPath:{type:"circle",shape:{cx:h,cy:f,r:v}}};return w&&(z.keyframeAnimation=n(w)),B.clipPath=z,{type:"group",silent:!0,children:[L,B]}}}}function e(t,e,i){if("number"==typeof t&&isFinite(t))return t;if("string"==typeof t){var n=function(t){var e=t.match(/^(-?\d+(?:\.\d+)?)%$/);if(!e)return null;return parseFloat(e[1])/100}(t);if(null!=n)return n*e;var o=Number(t);if(!Number.isNaN(o))return o}return i}function i(t,e,i){null!=i&&(t[e]=i)}function n(t){if(!t)return t;if(Array.isArray(t))return t.map((function(t){return n(t)}));var e={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return Array.isArray(t.keyframes)&&(e.keyframes=t.keyframes.map((function(t){var e={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}))),e}function o(t,e,i,n){return 0===e?[[t+.5*i/Math.PI/2,n/2],[t+.5*i/Math.PI,n],[t+i/4,n]]:1===e?[[t+.5*i/Math.PI/2*(Math.PI-2),n],[t+.5*i/Math.PI/2*(Math.PI-1),n/2],[t+i/4,0]]:2===e?[[t+.5*i/Math.PI/2,-n/2],[t+.5*i/Math.PI,-n],[t+i/4,-n]]:[[t+.5*i/Math.PI/2*(Math.PI-2),-n],[t+.5*i/Math.PI/2*(Math.PI-1),-n/2],[t+i/4,0]]}var a=function(e,i){var n,a,l,r,d,u,c,s,h,f,v,p,y,g,x,m=e.itemPayload,b=i.getWidth(),w=i.getHeight(),I=Math.min(b,w),P=i.style(),A=P,M=m.center||["50%","50%"],S="string"==typeof M[0]?parseFloat(M[0])/100*b:M[0],C="string"==typeof M[1]?parseFloat(M[1])/100*w:M[1],k=m.radius||"50%",F="string"==typeof k?parseFloat(k)/100*I/2:k,O=!1!==(null===(n=m.outline)||void 0===n?void 0:n.show),W=(null===(a=m.outline)||void 0===a?void 0:a.borderDistance)||8,L=(null===(r=null===(l=m.outline)||void 0===l?void 0:l.itemStyle)||void 0===r?void 0:r.borderWidth)||8,B=F-(O?L/2+W:0),z=[];0===e.dataIndex&&z.push({type:"circle",shape:{cx:S,cy:C,r:B},style:{fill:(null===(d=m.backgroundStyle)||void 0===d?void 0:d.color)||"#E3F7FF",stroke:"none"},z2:0});var X=e.dataInsideLength,j=i.value(0),D=C+B-j*B*2,H=m.amplitude||8*I/500,N="string"==typeof m.waveLength?parseFloat(m.waveLength)/100*B*2:m.waveLength||1.6*B;(!isFinite(N)||N<=0)&&(N=B||1);var R,T=N||1,Y=void 0===m.phase?"auto":m.phase,q=(("auto"===Y?e.dataIndex*Math.PI/4:Y)%(2*Math.PI)+2*Math.PI)%(2*Math.PI)/(2*Math.PI)*T,V=null!==(u=m.direction)&&void 0!==u?u:"right",E="left"===V?1:"right"===V?-1:0,Z=1===E?T:0,$=2*B+Z+(-1===E?T:0),G=function(t,e,i,n,a,l,r){for(var d=a||1,u=Math.max(1,Math.ceil(e/d)),c=4*u,s="M ".concat(t," ").concat(i),h=0;h<c;++h){var f=o(h*d/4,h%4,d,n);s+=" C ".concat(f[0][0]+t," ").concat(-f[0][1]+i)+" ".concat(f[1][0]+t," ").concat(-f[1][1]+i)+" ".concat(f[2][0]+t," ").concat(-f[2][1]+i)}return s+=" L ".concat(t+u*d," ").concat(r+l),s+=" L ".concat(t," ").concat(r+l),s+=" L ".concat(t," ").concat(i),s+" Z"}(S-B-Z,Math.max(1,Math.ceil($/T))*T,D,H,T,B,C),J=null!==(c=m.period)&&void 0!==c?c:"auto";if("auto"===J){var K=Math.max(X,1);R=5e3*(0===X?1:.2+(X-e.dataIndex)/K*.8)}else R="function"==typeof J?J(j,e.dataIndex):J;(!isFinite(R)||R<=0)&&(R=2e3);var Q,U=-q,_=0===R?0:T/R,tt=0===_?R:T/_,et=0===E||0===_?0:-q/_,it=A.fill||i.visual("color"),nt={type:"path",shape:{pathData:G},x:U,style:{fill:it,opacity:null!=A.opacity?Number(A.opacity):null!==(h=null===(s=m.itemStyle)||void 0===s?void 0:s.opacity)&&void 0!==h?h:.95,shadowBlur:null!==(f=A.shadowBlur)&&void 0!==f?f:null===(v=m.itemStyle)||void 0===v?void 0:v.shadowBlur,shadowColor:null!==(p=A.shadowColor)&&void 0!==p?p:null===(y=m.itemStyle)||void 0===y?void 0:y.shadowColor},z2:10+e.dataIndex},ot={type:"group",y:0,clipPath:{type:"circle",shape:{cx:S,cy:C,r:B}},children:[nt]};if(!1!==m.waveAnimation&&0!==E&&T>0&&tt>0&&_>0&&(Q={duration:tt,loop:!0,delay:et,keyframes:[{percent:0,x:U},{percent:1,x:U+E*T}]}),Q&&(nt.keyframeAnimation=Q),z.push(ot),0===e.dataIndex){var at=t({style:P,cx:S,cy:C,innerRadius:B,boundingLeft:S-B,boundingTop:C-B,boundingWidth:2*B,boundingHeight:2*B,wavePathData:G,waveInitialX:U,waveAnimation:Q,defaultColor:null!==(x=null!==(g=A.textFill)&&void 0!==g?g:A.fill)&&void 0!==x?x:it,insideColorOverride:m.labelInsideColor});at&&z.push(at)}return{type:"group",children:z}};return{install:function(t){t.registerCustomSeries("liquidFill",a)}}}));
//# sourceMappingURL=liquid-fill.min.js.map
