/*
* Licensed to the Apache Software Foundation (ASF) under one
* or more contributor license agreements.  See the NOTICE file
* distributed with this work for additional information
* regarding copyright ownership.  The ASF licenses this file
* to you under the Apache License, Version 2.0 (the
* "License"); you may not use this file except in compliance
* with the License.  You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing,
* software distributed under the License is distributed on an
* "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
* KIND, either express or implied.  See the License for the
* specific language governing permissions and limitations
* under the License.
*/
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).liquidFillCustomSeriesInstaller=e()}(this,(function(){"use strict";function t(t){var a,o,l,r,d,u,s,c=t.style,h=t.cx,f=t.cy,v=t.innerRadius,p=t.boundingLeft,y=t.boundingTop,g=t.boundingWidth,x=t.boundingHeight,m=t.wavePathData,b=t.waveInitialX,w=t.waveAnimation,I=t.defaultColor,P=t.insideColorOverride;if(c){var A=c,M=A.text;if(null!=M&&""!=="".concat(M)){var S=function(t,i,n,a,o,l,r,d){if(Array.isArray(t))return{x:e(t[0],r,i-o)+o,y:e(t[1],d,n-l)+l,align:"center",verticalAlign:"middle"};switch(t){case"inside":default:return{x:i,y:n,align:"center",verticalAlign:"middle"};case"left":case"insideLeft":return{x:i-.6*a,y:n,align:"left",verticalAlign:"middle"};case"right":case"insideRight":return{x:i+.6*a,y:n,align:"right",verticalAlign:"middle"};case"top":case"insideTop":return{x:i,y:n-.6*a,align:"center",verticalAlign:"top"};case"bottom":case"insideBottom":return{x:i,y:n+.6*a,align:"center",verticalAlign:"bottom"}}}(A.textPosition,h,f,v,p,y,g,x),C=function(t,e,n){var a,o={x:e,y:n};i(o,"fontSize",t.fontSize),i(o,"fontFamily",t.fontFamily),i(o,"fontWeight",t.fontWeight),i(o,"fontStyle",t.fontStyle),i(o,"lineHeight",t.lineHeight),i(o,"rich",t.rich),i(o,"backgroundColor",t.backgroundColor),i(o,"borderColor",t.borderColor),i(o,"borderWidth",t.borderWidth),i(o,"borderRadius",t.borderRadius),i(o,"padding",t.padding);var l=null!=t.textShadowBlur?t.textShadowBlur:t.shadowBlur,r=null!=t.textShadowColor?t.textShadowColor:t.shadowColor,d=null!=t.textShadowOffsetX?t.textShadowOffsetX:t.shadowOffsetX,u=null!=t.textShadowOffsetY?t.textShadowOffsetY:t.shadowOffsetY;i(o,"shadowBlur",l),i(o,"shadowColor",r),i(o,"shadowOffsetX",d),i(o,"shadowOffsetY",u);var s=null!=t.textStroke?t.textStroke:t.stroke,c=null!=t.textStrokeWidth?t.textStrokeWidth:null!==(a=t.lineWidth)&&void 0!==a?a:t.strokeWidth;return i(o,"stroke",s),i(o,"lineWidth",c),o}(A,S.x,S.y),F=null!==(o=null!==(a=A.textAlign)&&void 0!==a?a:A.align)&&void 0!==o?o:S.align,k=null!==(l=function(t){var e,i,n=null!==(e=t.textVerticalAlign)&&void 0!==e?e:t.verticalAlign;if("top"===n||"middle"===n||"bottom"===n)return n;if("center"===n)return"middle";var a=null!==(i=t.textBaseline)&&void 0!==i?i:t.baseline;if("top"===a)return"top";if("middle"===a||"center"===a)return"middle";if("bottom"===a||"baseline"===a)return"bottom";return}(A))&&void 0!==l?l:S.verticalAlign;C.align=F,C.textAlign=F,C.verticalAlign=k,C.textVerticalAlign=k,C.text=String(M);var O=null!==(d=null!==(r=A.textFill)&&void 0!==r?r:A.fill)&&void 0!==d?d:I,W=null!==(s=null!==(u=null!=P?P:A.textInsideColor)&&void 0!==u?u:A.insideColor)&&void 0!==s?s:O,L={type:"text",silent:!0,z2:40,style:Object.assign({},C,{fill:O})},B={type:"text",silent:!0,z2:41,style:Object.assign({},C,{fill:W})},z={type:"path",shape:{pathData:m},x:b,clipPath:{type:"circle",shape:{cx:h,cy:f,r:v}}};return w&&(z.keyframeAnimation=n(w)),B.clipPath=z,{type:"group",silent:!0,children:[L,B]}}}}function e(t,e,i){if("number"==typeof t&&isFinite(t))return t;if("string"==typeof t){var n=function(t){var e=t.match(/^(-?\d+(?:\.\d+)?)%$/);if(!e)return null;return parseFloat(e[1])/100}(t);if(null!=n)return n*e;var a=Number(t);if(!Number.isNaN(a))return a}return i}function i(t,e,i){null!=i&&(t[e]=i)}function n(t){if(!t)return t;if(Array.isArray(t))return t.map((function(t){return n(t)}));var e={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return Array.isArray(t.keyframes)&&(e.keyframes=t.keyframes.map((function(t){var e={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}))),e}function a(t,e,i,n){return 0===e?[[t+.5*i/Math.PI/2,n/2],[t+.5*i/Math.PI,n],[t+i/4,n]]:1===e?[[t+.5*i/Math.PI/2*(Math.PI-2),n],[t+.5*i/Math.PI/2*(Math.PI-1),n/2],[t+i/4,0]]:2===e?[[t+.5*i/Math.PI/2,-n/2],[t+.5*i/Math.PI,-n],[t+i/4,-n]]:[[t+.5*i/Math.PI/2*(Math.PI-2),-n],[t+.5*i/Math.PI/2*(Math.PI-1),-n/2],[t+i/4,0]]}var o=function(e,i){var n,o,l,r,d,u,s,c,h,f,v,p,y,g,x,m=e.itemPayload,b=i.getWidth(),w=i.getHeight(),I=Math.min(b,w),P=i.style(),A=P,M=m.center||["50%","50%"],S="string"==typeof M[0]?parseFloat(M[0])/100*b:M[0],C="string"==typeof M[1]?parseFloat(M[1])/100*w:M[1],F=m.radius||"50%",k="string"==typeof F?parseFloat(F)/100*I/2:F,O=!1!==(null===(n=m.outline)||void 0===n?void 0:n.show),W=(null===(o=m.outline)||void 0===o?void 0:o.borderDistance)||8,L=(null===(r=null===(l=m.outline)||void 0===l?void 0:l.itemStyle)||void 0===r?void 0:r.borderWidth)||8,B=k-(O?L/2+W:0),z=[];0===e.dataIndex&&z.push({type:"circle",shape:{cx:S,cy:C,r:B},style:{fill:(null===(d=m.backgroundStyle)||void 0===d?void 0:d.color)||"#E3F7FF",stroke:"none"},z2:0});var D=e.dataInsideLength,X=i.value(0),j=C+B-X*B*2,H=m.amplitude||8*I/500,N="string"==typeof m.waveLength?parseFloat(m.waveLength)/100*B*2:m.waveLength||1.6*B;(!isFinite(N)||N<=0)&&(N=B||1);var R,T=N||1,Y=void 0===m.phase?"auto":m.phase,q=(("auto"===Y?e.dataIndex*Math.PI/4:Y)%(2*Math.PI)+2*Math.PI)%(2*Math.PI)/(2*Math.PI)*T,E=null!==(u=m.direction)&&void 0!==u?u:"right",V="left"===E?1:"right"===E?-1:0,Z=1===V?T:0,$=2*B+Z+(-1===V?T:0),G=function(t,e,i,n,o,l,r){for(var d=o||1,u=Math.max(1,Math.ceil(e/d)),s=4*u,c="M ".concat(t," ").concat(i),h=0;h<s;++h){var f=a(h*d/4,h%4,d,n);c+=" C ".concat(f[0][0]+t," ").concat(-f[0][1]+i)+" ".concat(f[1][0]+t," ").concat(-f[1][1]+i)+" ".concat(f[2][0]+t," ").concat(-f[2][1]+i)}return c+=" L ".concat(t+u*d," ").concat(r+l),c+=" L ".concat(t," ").concat(r+l),c+=" L ".concat(t," ").concat(i),c+" Z"}(S-B-Z,Math.max(1,Math.ceil($/T))*T,j,H,T,B,C),J=null!==(s=m.period)&&void 0!==s?s:"auto";if("auto"===J){var K=Math.max(D,1);R=5e3*(0===D?1:.2+(D-e.dataIndex)/K*.8)}else R="function"==typeof J?J(X,e.dataIndex):J;(!isFinite(R)||R<=0)&&(R=2e3);var Q=-q,U=R,_=m.animationDuration;null!=_&&isFinite(_)&&_>0&&(U=_),(!isFinite(U)||U<=0)&&(U=0);var tt,et=U>0&&T>0?T/U:0,it=0===V||0===et?0:-q/et,nt=m.animationEasing,at=A.fill||i.visual("color"),ot={type:"path",shape:{pathData:G},x:Q,style:{fill:at,opacity:null!=A.opacity?Number(A.opacity):null!==(h=null===(c=m.itemStyle)||void 0===c?void 0:c.opacity)&&void 0!==h?h:.95,shadowBlur:null!==(f=A.shadowBlur)&&void 0!==f?f:null===(v=m.itemStyle)||void 0===v?void 0:v.shadowBlur,shadowColor:null!==(p=A.shadowColor)&&void 0!==p?p:null===(y=m.itemStyle)||void 0===y?void 0:y.shadowColor},z2:10+e.dataIndex},lt={type:"group",y:0,clipPath:{type:"circle",shape:{cx:S,cy:C,r:B}},children:[ot]};if(!1!==m.waveAnimation&&0!==V&&T>0&&U>0&&et>0){var rt={duration:U,loop:!0,delay:it,keyframes:[{percent:0,x:Q},{percent:1,x:Q+V*T}]};nt&&(rt.easing=nt),tt=rt}if(tt&&(ot.keyframeAnimation=tt),z.push(lt),0===e.dataIndex){var dt=t({style:P,cx:S,cy:C,innerRadius:B,boundingLeft:S-B,boundingTop:C-B,boundingWidth:2*B,boundingHeight:2*B,wavePathData:G,waveInitialX:Q,waveAnimation:tt,defaultColor:null!==(x=null!==(g=A.textFill)&&void 0!==g?g:A.fill)&&void 0!==x?x:at,insideColorOverride:m.labelInsideColor});dt&&z.push(dt)}return{type:"group",children:z}};return{install:function(t){t.registerCustomSeries("liquidFill",o)}}}));
//# sourceMappingURL=liquid-fill.min.js.map
