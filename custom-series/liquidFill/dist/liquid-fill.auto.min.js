/*
* Licensed to the Apache Software Foundation (ASF) under one
* or more contributor license agreements.  See the NOTICE file
* distributed with this work for additional information
* regarding copyright ownership.  The ASF licenses this file
* to you under the Apache License, Version 2.0 (the
* "License"); you may not use this file except in compliance
* with the License.  You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing,
* software distributed under the License is distributed on an
* "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
* KIND, either express or implied.  See the License for the
* specific language governing permissions and limitations
* under the License.
*/
this.liquidFillCustomSeriesInstaller=function(){"use strict";function t(t){var a,l,o,r,d,u,c,s=t.style,h=t.cx,f=t.cy,v=t.innerRadius,p=t.boundingLeft,y=t.boundingTop,g=t.boundingWidth,x=t.boundingHeight,m=t.wavePathData,w=t.waveInitialX,b=t.waveAnimation,I=t.defaultColor,P=t.insideColorOverride;if(s){var S=s,A=S.text;if(null!=A&&""!=="".concat(A)){var M=function(t,i,n,a,l,o,r,d){if(Array.isArray(t))return{x:e(t[0],r,i-l)+l,y:e(t[1],d,n-o)+o,align:"center",verticalAlign:"middle"};switch(t){case"inside":default:return{x:i,y:n,align:"center",verticalAlign:"middle"};case"left":case"insideLeft":return{x:i-.6*a,y:n,align:"left",verticalAlign:"middle"};case"right":case"insideRight":return{x:i+.6*a,y:n,align:"right",verticalAlign:"middle"};case"top":case"insideTop":return{x:i,y:n-.6*a,align:"center",verticalAlign:"top"};case"bottom":case"insideBottom":return{x:i,y:n+.6*a,align:"center",verticalAlign:"bottom"}}}(S.textPosition,h,f,v,p,y,g,x),C=function(t,e,n){var a,l={x:e,y:n};i(l,"fontSize",t.fontSize),i(l,"fontFamily",t.fontFamily),i(l,"fontWeight",t.fontWeight),i(l,"fontStyle",t.fontStyle),i(l,"lineHeight",t.lineHeight),i(l,"rich",t.rich),i(l,"backgroundColor",t.backgroundColor),i(l,"borderColor",t.borderColor),i(l,"borderWidth",t.borderWidth),i(l,"borderRadius",t.borderRadius),i(l,"padding",t.padding);var o=null!=t.textShadowBlur?t.textShadowBlur:t.shadowBlur,r=null!=t.textShadowColor?t.textShadowColor:t.shadowColor,d=null!=t.textShadowOffsetX?t.textShadowOffsetX:t.shadowOffsetX,u=null!=t.textShadowOffsetY?t.textShadowOffsetY:t.shadowOffsetY;i(l,"shadowBlur",o),i(l,"shadowColor",r),i(l,"shadowOffsetX",d),i(l,"shadowOffsetY",u);var c=null!=t.textStroke?t.textStroke:t.stroke,s=null!=t.textStrokeWidth?t.textStrokeWidth:null!==(a=t.lineWidth)&&void 0!==a?a:t.strokeWidth;return i(l,"stroke",c),i(l,"lineWidth",s),l}(S,M.x,M.y),F=null!==(l=null!==(a=S.textAlign)&&void 0!==a?a:S.align)&&void 0!==l?l:M.align,k=null!==(o=function(t){var e,i,n=null!==(e=t.textVerticalAlign)&&void 0!==e?e:t.verticalAlign;if("top"===n||"middle"===n||"bottom"===n)return n;if("center"===n)return"middle";var a=null!==(i=t.textBaseline)&&void 0!==i?i:t.baseline;if("top"===a)return"top";if("middle"===a||"center"===a)return"middle";if("bottom"===a||"baseline"===a)return"bottom";return}(S))&&void 0!==o?o:M.verticalAlign;C.align=F,C.textAlign=F,C.verticalAlign=k,C.textVerticalAlign=k,C.text=String(A);var O=null!==(d=null!==(r=S.textFill)&&void 0!==r?r:S.fill)&&void 0!==d?d:I,W=null!==(c=null!==(u=null!=P?P:S.textInsideColor)&&void 0!==u?u:S.insideColor)&&void 0!==c?c:O,L={type:"text",silent:!0,z2:40,style:Object.assign({},C,{fill:O})},B={type:"text",silent:!0,z2:41,style:Object.assign({},C,{fill:W})},z={type:"path",shape:{pathData:m},x:w,clipPath:{type:"circle",shape:{cx:h,cy:f,r:v}}};return b&&(z.keyframeAnimation=n(b)),B.clipPath=z,{type:"group",silent:!0,children:[L,B]}}}}function e(t,e,i){if("number"==typeof t&&isFinite(t))return t;if("string"==typeof t){var n=function(t){var e=t.match(/^(-?\d+(?:\.\d+)?)%$/);if(!e)return null;return parseFloat(e[1])/100}(t);if(null!=n)return n*e;var a=Number(t);if(!Number.isNaN(a))return a}return i}function i(t,e,i){null!=i&&(t[e]=i)}function n(t){if(!t)return t;if(Array.isArray(t))return t.map((function(t){return n(t)}));var e={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return Array.isArray(t.keyframes)&&(e.keyframes=t.keyframes.map((function(t){var e={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}))),e}function a(t,e,i,n){return 0===e?[[t+.5*i/Math.PI/2,n/2],[t+.5*i/Math.PI,n],[t+i/4,n]]:1===e?[[t+.5*i/Math.PI/2*(Math.PI-2),n],[t+.5*i/Math.PI/2*(Math.PI-1),n/2],[t+i/4,0]]:2===e?[[t+.5*i/Math.PI/2,-n/2],[t+.5*i/Math.PI,-n],[t+i/4,-n]]:[[t+.5*i/Math.PI/2*(Math.PI-2),-n],[t+.5*i/Math.PI/2*(Math.PI-1),-n/2],[t+i/4,0]]}var l=function(e,i){var n,l,o,r,d,u,c,s,h,f,v,p,y,g,x,m=e.itemPayload,w=i.getWidth(),b=i.getHeight(),I=Math.min(w,b),P=i.style(),S=P,A=m.center||["50%","50%"],M="string"==typeof A[0]?parseFloat(A[0])/100*w:A[0],C="string"==typeof A[1]?parseFloat(A[1])/100*b:A[1],F=m.radius||"50%",k="string"==typeof F?parseFloat(F)/100*I/2:F,O=!1!==(null===(n=m.outline)||void 0===n?void 0:n.show),W=(null===(l=m.outline)||void 0===l?void 0:l.borderDistance)||8,L=(null===(r=null===(o=m.outline)||void 0===o?void 0:o.itemStyle)||void 0===r?void 0:r.borderWidth)||8,B=k-(O?L/2+W:0),z=[];0===e.dataIndex&&z.push({type:"circle",shape:{cx:M,cy:C,r:B},style:{fill:(null===(d=m.backgroundStyle)||void 0===d?void 0:d.color)||"#E3F7FF",stroke:"none"},z2:0});var X=e.dataInsideLength,D=i.value(0),H=C+B-D*B*2,N=m.amplitude||8*I/500,R="string"==typeof m.waveLength?parseFloat(m.waveLength)/100*B*2:m.waveLength||1.6*B;(!isFinite(R)||R<=0)&&(R=B||1);var j,Y=R||1,q=void 0===m.phase?"auto":m.phase,T=(("auto"===q?e.dataIndex*Math.PI/4:q)%(2*Math.PI)+2*Math.PI)%(2*Math.PI)/(2*Math.PI)*Y,V=null!==(u=m.direction)&&void 0!==u?u:"right",E="left"===V?1:"right"===V?-1:0,Z=1===E?Y:0,$=2*B+Z+(-1===E?Y:0),G=function(t,e,i,n,l,o,r){for(var d=l||1,u=Math.max(1,Math.ceil(e/d)),c=4*u,s="M ".concat(t," ").concat(i),h=0;h<c;++h){var f=a(h*d/4,h%4,d,n);s+=" C ".concat(f[0][0]+t," ").concat(-f[0][1]+i)+" ".concat(f[1][0]+t," ").concat(-f[1][1]+i)+" ".concat(f[2][0]+t," ").concat(-f[2][1]+i)}return s+=" L ".concat(t+u*d," ").concat(r+o),s+=" L ".concat(t," ").concat(r+o),s+=" L ".concat(t," ").concat(i),s+" Z"}(M-B-Z,Math.max(1,Math.ceil($/Y))*Y,H,N,Y,B,C),J=null!==(c=m.period)&&void 0!==c?c:"auto";if("auto"===J){var K=Math.max(X,1);j=5e3*(0===X?1:.2+(X-e.dataIndex)/K*.8)}else j="function"==typeof J?J(D,e.dataIndex):J;(!isFinite(j)||j<=0)&&(j=2e3);var Q,U=-T,_=0===j?0:Y/j,tt=0===_?j:Y/_,et=0===E||0===_?0:-T/_,it=S.fill||i.visual("color"),nt={type:"path",shape:{pathData:G},x:U,style:{fill:it,opacity:null!=S.opacity?Number(S.opacity):null!==(h=null===(s=m.itemStyle)||void 0===s?void 0:s.opacity)&&void 0!==h?h:.95,shadowBlur:null!==(f=S.shadowBlur)&&void 0!==f?f:null===(v=m.itemStyle)||void 0===v?void 0:v.shadowBlur,shadowColor:null!==(p=S.shadowColor)&&void 0!==p?p:null===(y=m.itemStyle)||void 0===y?void 0:y.shadowColor},z2:10+e.dataIndex},at={type:"group",y:0,clipPath:{type:"circle",shape:{cx:M,cy:C,r:B}},children:[nt]};if(!1!==m.waveAnimation&&0!==E&&Y>0&&tt>0&&_>0&&(Q={duration:tt,loop:!0,delay:et,keyframes:[{percent:0,x:U},{percent:1,x:U+E*Y}]}),Q&&(nt.keyframeAnimation=Q),z.push(at),0===e.dataIndex){var lt=t({style:P,cx:M,cy:C,innerRadius:B,boundingLeft:M-B,boundingTop:C-B,boundingWidth:2*B,boundingHeight:2*B,wavePathData:G,waveInitialX:U,waveAnimation:Q,defaultColor:null!==(x=null!==(g=S.textFill)&&void 0!==g?g:S.fill)&&void 0!==x?x:it,insideColorOverride:m.labelInsideColor});lt&&z.push(lt)}return{type:"group",children:z}};return{install:function(t){t.registerCustomSeries("liquidFill",l)}}}(),
// Automatically register the custom series
"undefined"!=typeof window&&window.echarts&&window.echarts.use(window.liquidFillCustomSeriesInstaller);
//# sourceMappingURL=liquid-fill.auto.min.js.map
